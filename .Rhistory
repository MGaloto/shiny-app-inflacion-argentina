indec[,c('salud')])[nrow(indec)]
indec[,c('salud')][nrow(indec)]
indec[,c('salud')]
indec[,c('Salud')]
sort(names(indec[,-c(14,15,16,17,18)])
sort(names(indec[,-c(14,15,16,17,18)]))
names(indec[,-c(14,15,16,17,18)])
vector = c('periodos', 'year', 'Mes', 'month', 'period_filter')
names(indec[,-vector])
vector = c('periodos', 'year', 'Mes', 'month', 'period_filter')
names(indec[,-c(vector)])
vector = c('periodos', 'year', 'Mes', 'month', 'period_filter')
names(indec[,-c('periodos', 'year', 'Mes', 'month', 'period_filter')])
names(indec[,-c(14,15,16,17,18)])
vector = c(14,15,16,17,18)
names(indec[,-vector])
vector = list('periodos', 'year', 'Mes', 'month', 'period_filter')
names(indec[,-vector])
library(flexdashboard)
library(tidyverse)
library(shiny)
library(readxl)
library(highcharter)
library(RColorBrewer)
indec_total = read_excel('indecnacional_total.xlsx')
indec = read_excel('indecnacional.xlsx')
indec$period_filter = substr(as.Date(indec$periodos), 1, 7)
indec$periodos[nrow(indec)]
substr(indec$periodos[nrow(indec)],1,7)
library(flexdashboard)
library(tidyverse)
library(shiny)
library(readxl)
library(highcharter)
library(RColorBrewer)
indec_total = read_excel('indecnacional_total.xlsx')
indec = read_excel('indecnacional.xlsx')
indec$period_filter = substr(as.Date(indec$periodos), 1, 7)
((((pull(indec_total[,c('Salud')])/100)+1)      *  ((lag(pull(indec_total[,c('Salud')]), 1)/100)+1)	*  ((lag(pull(indec_total[,c('Salud')]), 2)/100)+1)		*  ((lag(pull(indec_total[,c('Salud')]), 3)/100)+1)    *  ((lag(pull(indec_total[,c('Salud')]), 4)/100)+1)				*  ((lag(pull(indec_total[,c('Salud')]), 5)/100)+1)				*  ((lag(pull(indec_total[,c('Salud')]), 6)/100)+1)	*  ((lag(pull(indec_total[,c('Salud')]), 7)/100)+1)				*  ((lag(pull(indec_total[,c('Salud')]), 8)/100)+1)				*  ((lag(pull(indec_total[,c('Salud')]), 9)/100)+1)	*  ((lag(pull(indec_total[,c('Salud')]), 10)/100)+1)				*  ((lag(pull(indec_total[,c('Salud')]), 11)/100)+1) - 1 ) * 100),1)[nrow(indec_total)]
((((pull(indec_total[,c('Salud')])/100)+1)      *  ((lag(pull(indec_total[,c('Salud')]), 1)/100)+1)	*  ((lag(pull(indec_total[,c('Salud')]), 2)/100)+1)		*  ((lag(pull(indec_total[,c('Salud')]), 3)/100)+1)    *  ((lag(pull(indec_total[,c('Salud')]), 4)/100)+1)				*  ((lag(pull(indec_total[,c('Salud')]), 5)/100)+1)				*  ((lag(pull(indec_total[,c('Salud')]), 6)/100)+1)	*  ((lag(pull(indec_total[,c('Salud')]), 7)/100)+1)				*  ((lag(pull(indec_total[,c('Salud')]), 8)/100)+1)				*  ((lag(pull(indec_total[,c('Salud')]), 9)/100)+1)	*  ((lag(pull(indec_total[,c('Salud')]), 10)/100)+1)				*  ((lag(pull(indec_total[,c('Salud')]), 11)/100)+1) - 1 ) * 100),1)
pull(indec_total[,c('Salud')])/100)+1
(pull(indec_total[,c('Salud')])/100)+1
(pull(indec_total[,c('Salud')])/100)+1
(pull(indec_total[,c('Salud')])/100)
lag((pull(indec_total[,c('Salud')])/100),1)
(pull(indec_total[,c('Salud')])/100)
lag((pull(indec_total[,c('Salud')])/100), 0)
(pull(indec_total[,c('Salud')])/100)
number_lag = 0
lag((pull(indec_total[,c('Salud')])/100), number_lag)
lag((pull(indec_total[,c('Salud')])/100), number_lag)[45]
lag((pull(indec_total[,c('Salud')])/100), number_lag)[0]
lag((pull(indec_total[,c('Salud')])/100), number_lag)[1]
lag((pull(indec_total[,c('Salud')])/100), number_lag)[-1]
lag((pull(indec_total[,c('Salud')])/100), number_lag)
list(lag((pull(indec_total[,c('Salud')])/100), number_lag))
lag((pull(indec_total[,c('Salud')])/100), number_lag)
class(lag((pull(indec_total[,c('Salud')])/100), number_lag))
lag((pull(indec_total[,c('Salud')])/100), number_lag)
lag((pull(indec_total[,c('Salud')])/100), number_lag)
list(lag((pull(indec_total[,c('Salud')])/100), number_lag))[0]
list(lag((pull(indec_total[,c('Salud')])/100), number_lag))[1]
list(lag((pull(indec_total[,c('Salud')])/100), number_lag))[2]
list(lag((pull(indec_total[,c('Salud')])/100), number_lag))[1]
list(lag((pull(indec_total[,c('Salud')])/100), number_lag))[1][1]
list(lag((pull(indec_total[,c('Salud')])/100), number_lag))[1][4]
list(lag((pull(indec_total[,c('Salud')])/100), number_lag))
lag((pull(indec_total[,c('Salud')])/100), number_lag)
lag((pull(indec_total[,c('Salud')]) / 100), number_lag)[61]
lag((pull(indec_total[,c('Salud')]) / 100), number_lag)
lag((pull(indec_total[,c('Salud')]) / 100), number_lag)[nrow(indec_total)]
varNames <- function(df, itemtoadd){
number_lag = 0
values = c()
for (i in 0:12) {
value_lag = lag((pull(indec_total[,c('Salud')]) / 100), i)[nrow(indec_total)]
values[i] <- value_lag
}
return(values)
}
varNames(indec_total)
varNames <- function(df, itemtoadd){
number_lag = 0
values = c()
for (i in 0:12) {
value_lag = lag((pull((indec_total[,c('Salud')]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag
}
return(values)
}
varNames(indec_total)
interanual <- function(df){
number_lag = 0
values = c()
for (i in 0:12) {
value_lag = lag((pull((indec_total[,c('Salud')]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag
}
return(values)
}
interanual(indec_total)
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((indec_total[,c(val)]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag
}
return(values)
}
interanual(indec_total, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((indec_total[,c(val)]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag
}
return(prod(values))
}
interanual(indec_total, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((indec_total[,c(val)]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag
}
return(values)
}
interanual(indec_total, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((indec_total[,c(val)]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag
}
return((prod(values) - 1) * 100)
}
interanual(indec_total, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((indec_total[,c(val)]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag
}
return(round((prod(values) - 1) * 100),2)
}
interanual(indec_total, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((indec_total[,c(val)]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag
}
return((prod(values) - 1) * 100)
}
interanual(indec_total, 'Salud')
library(flexdashboard)
library(tidyverse)
library(shiny)
library(readxl)
library(highcharter)
library(RColorBrewer)
indec_total = read_excel('indecnacional_total.xlsx')
indec = read_excel('indecnacional.xlsx')
indec$period_filter = substr(as.Date(indec$periodos), 1, 7)
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((indec_total[,c(val)]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag
}
return((prod(values) - 1) * 100)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:12) {
print(i)
value_lag = lag((pull((indec_total[,c(val)]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag
}
return((prod(values) - 1) * 100)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:11) {
print(i)
value_lag = lag((pull((indec_total[,c(val)]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag
}
return((prod(values) - 1) * 100)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((indec_total[,c(val)]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag
}
return((prod(values) - 1) * 100)
}
interanual(indec, 'Salud')
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:13) {
value_lag = lag((pull((indec_total[,c(val)]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag}
return((prod(values) - 1) * 100)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((indec_total[,c(val)]) / 100) + 1), i)[nrow(indec_total)]
values[i] <- value_lag}
return((prod(values) - 1) * 100)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i] <- value_lag}
return((prod(values) - 1) * 100)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:13) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i] <- value_lag}
return((prod(values) - 1) * 100)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:13) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i] <- value_lag}
return((prod(values) - 1) * 100)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i] <- value_lag}
return((prod(values) - 1) * 100)
}
interanual(indec, 'Salud')
interanual(indec, 'Salud')
View(indec)
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i] <- value_lag}
return(values)
}
interanual(indec, 'Salud')
lag((pull((indec[,c('Salud')]) / 100) + 1), i)[nrow(indec)]
lag((pull((indec[,c('Salud')]) / 100) + 1), 0)[nrow(indec)]
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i] <- value_lag}
return(values)
}
interanual(indec, 'Salud')
lag((pull((indec[,c('Salud')]) / 100) + 1), 0)[nrow(indec)]
lag((pull((indec[,c('Salud')]) / 100) + 1), 0)[nrow(indec)]
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i] <- value_lag}
return(values)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 1:12) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i] <- value_lag}
return(values)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
print(value_lag)
values[i] <- value_lag}
return(values)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:12) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
print(value_lag)
values[i + 1] <- value_lag}
return(values)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
print(value_lag)
values[i + 1] <- value_lag}
return(values)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
print(value_lag)
values[i + 1] <- value_lag}
return(prod(values))
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i + 1] <- value_lag}
return(prod(values))
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i + 1] <- value_lag}
return((prod(values) - 1) * 100)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i + 1] <- value_lag}
return(round((prod(values) - 1) * 100),2)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i + 1] <- value_lag}
product = (prod(values) - 1) * 100
return(product)
}
interanual(indec, 'Salud')
interanual <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i + 1] <- value_lag}
product = (prod(values) - 1) * 100
return(round(product,2))
}
interanual(indec, 'Salud')
round(((((pull(indec[,c('Salud')])/100)+1) *  ((lag(pull(indec[,c('Salud')]), 1)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 2)/100)+1)		*  ((lag(pull(indec[,c('Salud')]), 3)/100)+1)*  ((lag(pull(indec[,c('Salud')]), 4)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 5)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 6)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 7)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 8)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 9)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 10)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 11)/100)+1) - 1 ) * 100),1)[12:nrow(indec)]
((((pull(indec[,c('Salud')])/100)+1) *  ((lag(pull(indec[,c('Salud')]), 1)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 2)/100)+1)		*  ((lag(pull(indec[,c('Salud')]), 3)/100)+1)*  ((lag(pull(indec[,c('Salud')]), 4)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 5)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 6)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 7)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 8)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 9)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 10)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 11)/100)+1) - 1 ) * 100)[12:nrow(indec)]
((((pull(indec[,c('Salud')])/100)+1) *  ((lag(pull(indec[,c('Salud')]), 1)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 2)/100)+1)		*  ((lag(pull(indec[,c('Salud')]), 3)/100)+1)*  ((lag(pull(indec[,c('Salud')]), 4)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 5)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 6)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 7)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 8)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 9)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 10)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 11)/100)+1) - 1 ) * 100)
((((pull(indec[,c('Salud')])/100)+1) *  ((lag(pull(indec[,c('Salud')]), 1)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 2)/100)+1)		*  ((lag(pull(indec[,c('Salud')]), 3)/100)+1)*  ((lag(pull(indec[,c('Salud')]), 4)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 5)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 6)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 7)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 8)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 9)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 10)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 11)/100)+1) - 1 ) * 100)
((((pull(indec[,c('Salud')])/100)+1) *  ((lag(pull(indec[,c('Salud')]), 1)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 2)/100)+1)		*  ((lag(pull(indec[,c('Salud')]), 3)/100)+1)*  ((lag(pull(indec[,c('Salud')]), 4)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 5)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 6)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 7)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 8)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 9)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 10)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 11)/100)+1) - 1 ) * 100)[12:nrow(indec)]
((((pull(indec[,c('Salud')])/100)+1) *  ((lag(pull(indec[,c('Salud')]), 1)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 2)/100)+1)		*  ((lag(pull(indec[,c('Salud')]), 3)/100)+1)*  ((lag(pull(indec[,c('Salud')]), 4)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 5)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 6)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 7)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 8)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 9)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 10)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 11)/100)+1) - 1 ) * 100)
interanual_values <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i + 1] <- value_lag}
product = (prod(values) - 1) * 100
return(round(product,2))
}
interanual_values(indec, 'Salud')
interanual_values <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i + 1] <- value_lag}
product = (prod(values) - 1) * 100
return(round(product,2))
}
interanual_values(indec, 'Salud')
((((pull(indec[,c('Salud')])/100)+1) *  ((lag(pull(indec[,c('Salud')]), 1)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 2)/100)+1)		*  ((lag(pull(indec[,c('Salud')]), 3)/100)+1)*  ((lag(pull(indec[,c('Salud')]), 4)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 5)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 6)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 7)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 8)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 9)/100)+1)	*  ((lag(pull(indec[,c('Salud')]), 10)/100)+1)				*  ((lag(pull(indec[,c('Salud')]), 11)/100)+1) - 1 ) * 100)
interanual_values <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)
values[i + 1] <- value_lag}
product = (prod(values) - 1) * 100
return(round(product,2))
}
interanual_values(indec, 'Salud')
((lag(pull(indec[,c('Salud')]), 1)/100)+1)
interanual_values <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)
product = (prod(values) - 1) * 100
return(round(product,2))
}
interanual_values(indec, 'Salud')
library(flexdashboard)
library(tidyverse)
library(shiny)
library(readxl)
library(highcharter)
library(RColorBrewer)
indec_total = read_excel('indecnacional_total.xlsx')
indec = read_excel('indecnacional.xlsx')
indec_total$period_filter = substr(as.Date(indec_total$periodos), 1, 7)
indec$period_filter = substr(as.Date(indec$periodos), 1, 7)
#https://fontawesome.com/icons/chart-simple?s=solid
#https://shiny.rstudio.com/tutorial/written-tutorial/lesson3/
#https://fontawesome.com/v4/cheatsheet/
library(flexdashboard)
library(tidyverse)
library(shiny)
library(readxl)
library(highcharter)
library(RColorBrewer)
indec_total = read_excel('indecnacional_total.xlsx')
indec = read_excel('indecnacional.xlsx')
indec$period_filter = substr(as.Date(indec$periodos), 1, 7)
indec_total$period_filter = substr(as.Date(indec_total$periodos), 1, 7)
interanual <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i + 1] <- value_lag}
product = (prod(values) - 1) * 100
return(round(product,1))
}
View(indec_total)
View(indec)
indec[,-c(14,15,16,17,18)]
names(indec[,-c(14,15,16,17,18)])
View(indec)
column_indexes = 'Educacion'
names(indec[,-c(column_indexes)])
column_indexes = c('Educacion')
names(indec[,-c(column_indexes)])
names(indec[,-c(-5:)])
names(indec[,-c(-5:ncol(indec))])
names(indec[,-c(1:ncol(indec))])
column_indexes = c('Educacion')
indec[ ,!(colnames(indec) == column_indexes)]
colnames(indec)
column_indexes = c('periodos', 'year', 'Mes', 'month', 'period_filter')
indec[ ,!(colnames(indec) == column_indexes)]
column_indexes = c('periodos', 'year', 'Mes', 'month', 'period_filter')
indec[ ,!(colnames(indec) %in%  column_indexes)]
column_indexes = c('periodos', 'year', 'Mes', 'month', 'period_filter')
names(indec[ ,!(colnames(indec) %in%  column_indexes)])
#https://fontawesome.com/icons/chart-simple?s=solid
#https://shiny.rstudio.com/tutorial/written-tutorial/lesson3/
#https://fontawesome.com/v4/cheatsheet/
library(flexdashboard)
library(tidyverse)
library(shiny)
library(readxl)
library(highcharter)
library(RColorBrewer)
indec_total = read_excel('indecnacional_total.xlsx')
indec = read_excel('indecnacional.xlsx')
indec$period_filter = substr(as.Date(indec$periodos), 1, 7)
indec_total$period_filter = substr(as.Date(indec_total$periodos), 1, 7)
interanual <- function(df, val){
values = c()
for (i in 0:11) {
value_lag = lag((pull((df[,c(val)]) / 100) + 1), i)[nrow(df)]
values[i + 1] <- value_lag}
product = (prod(values) - 1) * 100
return(round(product,1))
}
column_indexes = c('periodos', 'year', 'Mes', 'month', 'period_filter')
to_uno = ncol(indec) - 3
to_uno
apply(indec[nrow(indec), 1:to_uno], 1, sort)
indec[nrow(indec), 1:to_uno]
indec[nrow(indec), 1:to_uno]
indec[nrow(indec), 1:3]
nrow(indec)
indec[67, 6]
apply(indec[nrow(indec), 1:to_uno], 1, sort)
t(apply(indec[nrow(indec), 1:to_uno], 1, sort))
to_uno
t(apply(indec[nrow(indec), 1:16], 1, sort))
t(apply(indec[nrow(indec), 1:20], 1, sort))
t(apply(indec[nrow(indec), 1:19], 1, sort))
t(apply(indec[nrow(indec), 1:18], 1, sort))
t(apply(indec[nrow(indec), 1:17], 1, sort))
t(apply(indec[nrow(indec), 1:16], 1, sort))
View(indec)
apply(indec[nrow(indec), 1:16], 1, sort)
apply(indec[nrow(indec), 1:15], 1, sort)
apply(indec[nrow(indec), 1:14], 1, sort)
apply(indec[nrow(indec), 1:13], 1, sort)
View(indec)
length(column_indexes)
ncol(indec)
ncol(indec) - length(column_indexes)
(ncol(indec) - length(column_indexes))
View(indec_total)
